.MODEL SMALL
.STACK 100H
.DATA
NEWLINE DB 0AH, 0DH, '$'
.CODE
MAIN PROC
    MOV AX, @DATA
    MOV DS, AX
    
    MOV BX, 0
    MOV CX, 0
    BINARYINPUT:
    MOV AH, 01H
    INT 21H
    CMP AL, 0DH
    JE NEXTSTAGE
    SHL BX, 1
    SUB AL, '0'
    OR BL, AL
    INC CX
    JMP BINARYINPUT

    NEXTSTAGE:
    MOV AH, 09H
    LEA DX, NEWLINE
    INT 21H

    BINARYOUTPUT:
    ROL BX, 1
    JC PRINTONE
    JMP PRINTZERO

    PRINTONE:
    MOV AH, 02H
    MOV DX, '1'
    INT 21H
    LOOP BINARYOUTPUT
    JMP EXIT  

    PRINTZERO:
    MOV AH, 02H
    MOV DX, '0'
    INT 21H
    LOOP BINARYOUTPUT

    EXIT:   
    MOV AH, 4CH
    INT 21H
MAIN ENDP
END MAIN